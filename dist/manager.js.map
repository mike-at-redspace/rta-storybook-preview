{"version":3,"sources":["../src/ui/Manager.tsx","../src/constants.ts","../src/ui/Tool.tsx","../src/hooks/useContainerSize.ts","../src/hooks/useDebouncedResize.ts","../src/hooks/usePanWhenZoomed.ts","../src/hooks/usePreviewViewport.ts","../src/devices.ts","../src/lib/download-filename.ts","../src/hooks/useRtaPreview.ts","../src/ui/CustomDimensions.tsx","../src/ui/Styles.tsx","../src/ui/Device.tsx","../src/ui/Download.tsx","../src/ui/Enable.tsx","../src/ui/Rotation.tsx","../src/ui/Zoom.tsx"],"sourcesContent":["import { addons, types } from \"@storybook/manager-api\";\nimport { ADDON_ID } from \"../constants\";\nimport { Tool } from \"./Tool\";\n\n/** Register the RTA Preview addon in Storybook. */\naddons.register(ADDON_ID, () => {\n  addons.add(`${ADDON_ID}/toolbar`, {\n    type: types.TOOL,\n    title: \"Ṛta (ऋत) - Storybook Preview\",\n    match: ({ viewMode }) => viewMode === \"story\",\n    render: () => <Tool />,\n  });\n});\n\nexport { Tool };\n","import type React from \"react\";\nimport type { DeviceId } from \"./devices\";\n\n/** Storybook addon ID; use when registering the addon or adding tools. */\nexport const ADDON_ID = \"rta-preview-addon\";\n\n/** Tool ID for the RTA Preview toolbar item. */\nexport const TOOL_ID = \"rta-preview-tool\";\n\n/** Channel event for requesting a download of the current preview view. */\nexport const RTA_PREVIEW_DOWNLOAD_VIEW = \"rta-preview/download-view\";\n\n/** Global key for the selected device preset id. */\nexport const RTA_PREVIEW_DEVICE = \"rtaPreviewDevice\";\n/** Global key for viewport rotation in degrees (0, 90, 180, 270). */\nexport const RTA_PREVIEW_ROTATE = \"rtaPreviewRotate\";\n/** Global key for zoom level: \"fit\" or a number. */\nexport const RTA_PREVIEW_ZOOM = \"rtaPreviewZoom\";\n/** Global key for custom viewport width when device is \"custom\". */\nexport const RTA_PREVIEW_CUSTOM_WIDTH = \"rtaPreviewCustomWidth\";\n/** Global key for custom viewport height when device is \"custom\". */\nexport const RTA_PREVIEW_CUSTOM_HEIGHT = \"rtaPreviewCustomHeight\";\n/** Global key for whether the stage shows a gradient background. */\nexport const RTA_PREVIEW_STAGE_BACKGROUND = \"rtaPreviewStageBackground\";\n/** Global key for whether the dimensions overlay is visible. */\nexport const RTA_PREVIEW_SHOW_SIZE = \"rtaPreviewShowSize\";\n/** Global key for whether the device frame is visible. */\nexport const RTA_PREVIEW_SHOW_FRAME = \"rtaPreviewShowFrame\";\n/** Global key for whether the RTA Preview toolbar is visible. */\nexport const RTA_PREVIEW_TOOLBAR_VISIBLE = \"rtaPreviewToolbarVisible\";\n/** Global key for whether RTA Preview (device mode) is enabled. When false, preview is pass-through and toolbar shows only the enable control. */\nexport const RTA_PREVIEW_ENABLED = \"rtaPreviewEnabled\";\n\n/** Viewport rotation in degrees. Only 0, 90, 180, and 270 are valid. */\nexport type Rotation = 0 | 90 | 180 | 270;\n\n/** Default device when no global is set. */\nexport const DEFAULT_DEVICE_ID: DeviceId = \"iphoneProMax\";\n/** Default rotation in degrees when no global is set. */\nexport const DEFAULT_ROTATION = 0 as const;\n/** Default zoom when no global is set. */\nexport const DEFAULT_ZOOM: \"fit\" | number = \"fit\";\n\n/** Zoom limits and step for toolbar zoom in/out. Used by manager and by computeScale. */\nexport const ZOOM_CONFIG = {\n  min: 0.1,\n  max: 3,\n  step: 0.25,\n} as const;\n\n/**\n * Layout config for preview stage.\n * - padding: reserved for future layout calculations (POC parity).\n * - resizeDebounceMs: debounce delay (ms) for resize-triggered updates.\n * - fitMargin: margin (px) reserved on each side when computing fit scale; content fits inside (container - 2*fitMargin).\n */\nexport const LAYOUT_CONFIG = {\n  padding: 128,\n  resizeDebounceMs: 150,\n  fitMargin: 32,\n} as const;\n\n// -----------------------------------------------------------------------------\n// Preview UI constants\n// -----------------------------------------------------------------------------\n\n/** Inline style for the dimensions overlay (bottom-right of the viewport). */\nexport const SIZE_OVERLAY_STYLE: React.CSSProperties = {\n  position: \"absolute\",\n  bottom: 8,\n  right: 8,\n  padding: \"0 12px\",\n  height: 32,\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  background: \"rgba(0, 0, 0, 0.5)\",\n  color: \"rgba(255, 255, 255, 0.7)\",\n  fontSize: 13,\n  fontFamily: \"monospace\",\n  borderRadius: 8,\n  pointerEvents: \"none\",\n};\n\n/** Inline style for the device frame wrapper around the viewport. */\nexport const FRAME_STYLE: React.CSSProperties = {\n  padding: 12,\n  background: \"#111\",\n  border: \"2px solid #555\",\n  borderRadius: 20,\n  boxShadow: \"0 24px 48px -12px rgba(0, 0, 0, 0.6)\",\n  boxSizing: \"border-box\",\n};\n","import { memo, useCallback, useEffect, useState } from \"react\";\nimport { TOOL_ID } from \"../constants\";\nimport { useRtaPreview } from \"../hooks\";\nimport { CustomDimensions } from \"./CustomDimensions\";\nimport { Device } from \"./Device\";\nimport { Download } from \"./Download\";\nimport { Enable } from \"./Enable\";\nimport { Rotation } from \"./Rotation\";\nimport { FIT_BUTTON_FLASH_STYLE, Row, Toolbar as ToolbarRoot } from \"./Styles\";\nimport { Zoom } from \"./Zoom\";\n\nconst FIT_FLASH_DURATION_MS = 500;\n\n/** Toolbar for the RTA Preview addon.\n *\n * @returns The toolbar.\n */\nexport const Tool = memo(function Toolbar() {\n  const api = useRtaPreview();\n  const [fitButtonFlash, setFitButtonFlash] = useState(false);\n\n  const triggerFitFlash = useCallback(() => setFitButtonFlash(true), []);\n\n  useEffect(() => {\n    if (!fitButtonFlash) return;\n    const id = setTimeout(() => setFitButtonFlash(false), FIT_FLASH_DURATION_MS);\n    return () => clearTimeout(id);\n  }, [fitButtonFlash]);\n\n  useEffect(() => {\n    triggerFitFlash();\n  }, [triggerFitFlash]);\n\n  const handleDeviceChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      api.setDevice(e);\n      api.zoomFit();\n    },\n    [api],\n  );\n\n  const handleZoomFit = useCallback(() => {\n    api.zoomFit();\n    triggerFitFlash();\n  }, [api, triggerFitFlash]);\n\n  if (!api.enabled) {\n    return (\n      <ToolbarRoot key={TOOL_ID} className=\"rta-preview-toolbar\">\n        <Enable enabled={false} onSetEnabled={api.setEnabled} />\n      </ToolbarRoot>\n    );\n  }\n\n  return (\n    <ToolbarRoot key={TOOL_ID} className=\"rta-preview-toolbar\">\n      {FIT_BUTTON_FLASH_STYLE}\n      <Row>\n        <Enable enabled onSetEnabled={api.setEnabled} />\n        <Device deviceId={api.deviceId} onDeviceChange={handleDeviceChange} />\n      </Row>\n      <Rotation\n        rotation={api.rotation}\n        rotatable={api.rotatable}\n        onCycleRotation={api.cycleRotation}\n      />\n      <Zoom\n        zoomNum={api.zoomNum}\n        canZoomIn={api.canZoomIn}\n        canZoomOut={api.canZoomOut}\n        fitButtonFlash={fitButtonFlash}\n        onZoomIn={api.zoomIn}\n        onZoomOut={api.zoomOut}\n        onZoomFit={handleZoomFit}\n      />\n      {api.isCustom && (\n        <CustomDimensions\n          customWidth={api.customWidth}\n          customHeight={api.customHeight}\n          onCustomWidthChange={api.setCustomWidth}\n          onCustomHeightChange={api.setCustomHeight}\n        />\n      )}\n      <Download deviceLabel={api.device?.label} deviceId={api.deviceId} />\n    </ToolbarRoot>\n  );\n});\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\n/**\n * Tracks the size of the container for scale/fit: parent element, or the ref element when parent has no size.\n * Uses ResizeObserver on both so fit and zoom recalculate when layout changes.\n *\n * @returns Object with: containerRef (attach to the stage div), containerSize (width and height),\n *   updateSize (measure immediately).\n */\nexport function useContainerSize(): {\n  containerRef: React.RefObject<HTMLDivElement | null>;\n  containerSize: { width: number; height: number };\n  updateSize: () => void;\n} {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerSize, setContainerSize] = useState({ width: 0, height: 0 });\n\n  const updateSize = useCallback(() => {\n    const el = containerRef.current;\n    if (!el) return;\n    const parent = el.parentElement;\n    const w = parent ? parent.clientWidth : 0;\n    const h = parent ? parent.clientHeight : 0;\n    if (w > 0 && h > 0) {\n      setContainerSize({ width: w, height: h });\n      return;\n    }\n    setContainerSize({ width: el.clientWidth, height: el.clientHeight });\n  }, []);\n\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n    const parent = el.parentElement;\n    const observer = new ResizeObserver(() => updateSize());\n    if (parent) observer.observe(parent);\n    observer.observe(el);\n    updateSize();\n    return () => observer.disconnect();\n  }, [updateSize]);\n\n  return { containerRef, containerSize, updateSize };\n}\n","import type React from \"react\";\nimport { useEffect, useRef } from \"react\";\n\n/**\n * Schedule a callback after a delay; runs once when deps change (debounced resize).\n *\n * @param callback - Function to run after delayMs when deps or delayMs change.\n * @param delayMs - Delay in milliseconds before running callback.\n * @param deps - Dependency list; when it or delayMs change, the timer is rescheduled.\n * @returns void.\n */\nexport function useDebouncedResize(\n  callback: () => void,\n  delayMs: number,\n  deps: React.DependencyList,\n): void {\n  const cbRef = useRef(callback);\n  cbRef.current = callback;\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  useEffect(() => {\n    const run = () => {\n      timeoutRef.current = null;\n      cbRef.current();\n    };\n    const schedule = () => {\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(run, delayMs);\n    };\n    schedule();\n    return () => {\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, [...deps, delayMs]);\n}\n","import type React from \"react\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport type { Rotation } from \"../constants\";\n\n/**\n * Pan state and pointer handlers for drag-to-pan when pan is enabled.\n * Resets pan when deviceId, rotation, or zoom change.\n * Cleans up window listeners on unmount if drag was in progress.\n *\n * @param isPanEnabled - Whether pan is active (zoomed in or content overflows).\n * @param deviceId - Current device id (used as dep to reset pan).\n * @param rotation - Current rotation in degrees (used as dep to reset pan).\n * @param zoom - Current zoom (used as dep to reset pan).\n * @returns Object with pan { x, y }, isDragging, and handlePointerDown handler.\n */\nexport function usePanWhenZoomed(\n  isPanEnabled: boolean,\n  deviceId: string,\n  rotation: Rotation,\n  zoom: \"fit\" | number,\n): {\n  pan: { x: number; y: number };\n  isDragging: boolean;\n  handlePointerDown: (e: React.PointerEvent) => void;\n} {\n  const [pan, setPan] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const lastClientRef = useRef({ x: 0, y: 0 });\n  const pointerIdRef = useRef<number | null>(null);\n  const cleanupRef = useRef<(() => void) | null>(null);\n\n  // Reset pan when viewport context changes (deviceId, rotation, zoom are intentional deps)\n  // biome-ignore lint/correctness/useExhaustiveDependencies: reset pan when device/rotation/zoom change\n  useEffect(() => {\n    setPan({ x: 0, y: 0 });\n  }, [deviceId, rotation, zoom]);\n\n  // Clean up pointer listeners on unmount (e.g. if component unmounts during drag)\n  useEffect(() => {\n    return () => {\n      cleanupRef.current?.();\n      cleanupRef.current = null;\n    };\n  }, []);\n\n  const handlePointerDown = useCallback(\n    (e: React.PointerEvent) => {\n      if (!isPanEnabled || e.button !== 0) return;\n      e.preventDefault();\n      const target = e.currentTarget as HTMLElement;\n      pointerIdRef.current = e.pointerId;\n      target.setPointerCapture(e.pointerId);\n      lastClientRef.current = { x: e.clientX, y: e.clientY };\n      setIsDragging(true);\n      const onMove = (ev: PointerEvent) => {\n        const dx = ev.clientX - lastClientRef.current.x;\n        const dy = ev.clientY - lastClientRef.current.y;\n        lastClientRef.current = { x: ev.clientX, y: ev.clientY };\n        setPan((prev) => ({ x: prev.x + dx, y: prev.y + dy }));\n      };\n      const doCleanup = (): void => {\n        const id = pointerIdRef.current;\n        if (id !== null) {\n          pointerIdRef.current = null;\n          try {\n            target.releasePointerCapture(id);\n          } catch {\n            // Pointer may already be released.\n          }\n        }\n        window.removeEventListener(\"pointermove\", onMove);\n        window.removeEventListener(\"pointerup\", onUp);\n        window.removeEventListener(\"pointercancel\", onUp);\n        cleanupRef.current = null;\n        setIsDragging(false);\n      };\n      const onUp = (): void => doCleanup();\n      cleanupRef.current = doCleanup;\n      window.addEventListener(\"pointermove\", onMove);\n      window.addEventListener(\"pointerup\", onUp);\n      window.addEventListener(\"pointercancel\", onUp);\n    },\n    [isPanEnabled],\n  );\n\n  return { pan, isDragging, handlePointerDown };\n}\n","import { useGlobals } from \"@storybook/preview-api\";\nimport type React from \"react\";\nimport { useEffect, useMemo } from \"react\";\nimport {\n  DEFAULT_DEVICE_ID,\n  DEFAULT_ROTATION,\n  DEFAULT_ZOOM,\n  LAYOUT_CONFIG,\n  type Rotation,\n  RTA_PREVIEW_CUSTOM_HEIGHT,\n  RTA_PREVIEW_CUSTOM_WIDTH,\n  RTA_PREVIEW_DEVICE,\n  RTA_PREVIEW_ENABLED,\n  RTA_PREVIEW_ROTATE,\n  RTA_PREVIEW_ZOOM,\n} from \"../constants\";\nimport { DEVICES, type DeviceId } from \"../devices\";\nimport { computeScale, getViewportDimensions } from \"../lib\";\nimport { useContainerSize } from \"./useContainerSize\";\nimport { useDebouncedResize } from \"./useDebouncedResize\";\nimport { usePanWhenZoomed } from \"./usePanWhenZoomed\";\n\nconst STAGE_GRADIENT = \"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)\";\n\n/**\n * Viewport state and styles for the RTA Preview stage (globals, scale, pan, memoized styles).\n *\n * @returns Object with enabled, containerRef, stageStyle, viewportStyle, dimensionsLabel,\n *   showFrame, showSize, isConstrained, handlePointerDown.\n */\nexport function usePreviewViewport() {\n  const [globals] = useGlobals();\n  const enabled = (globals[RTA_PREVIEW_ENABLED] as boolean | undefined) ?? false;\n\n  const { containerRef, containerSize, updateSize } = useContainerSize();\n  useDebouncedResize(updateSize, LAYOUT_CONFIG.resizeDebounceMs, []);\n\n  const deviceId = (globals[RTA_PREVIEW_DEVICE] as string) ?? DEFAULT_DEVICE_ID;\n  const rotation = (globals[RTA_PREVIEW_ROTATE] as Rotation) ?? DEFAULT_ROTATION;\n  const zoom = (globals[RTA_PREVIEW_ZOOM] as \"fit\" | number) ?? DEFAULT_ZOOM;\n  const customWidth = globals[RTA_PREVIEW_CUSTOM_WIDTH] as number | undefined;\n  const customHeight = globals[RTA_PREVIEW_CUSTOM_HEIGHT] as number | undefined;\n  const stageBackground = true;\n  const showSize = true;\n  const showFrame = true;\n\n  const device = DEVICES[deviceId as DeviceId];\n  const effectiveRotation = device && !device.rotatable ? 0 : (rotation as Rotation);\n\n  // Re-measure container when device/rotation/zoom(fit) change or when enabled so fit/zoom have valid size\n  // biome-ignore lint/correctness/useExhaustiveDependencies: deviceId and effectiveRotation trigger re-fit\n  useEffect(() => {\n    if (!enabled) return;\n    const id = requestAnimationFrame(() => updateSize());\n    return () => cancelAnimationFrame(id);\n  }, [enabled, deviceId, effectiveRotation, zoom, updateSize]);\n\n  const { width: viewportWidth, height: viewportHeight } = useMemo(\n    () => getViewportDimensions(deviceId, customWidth, customHeight, effectiveRotation),\n    [deviceId, customWidth, customHeight, effectiveRotation],\n  );\n  const isConstrained = viewportWidth > 0 && viewportHeight > 0;\n\n  const scale = useMemo(\n    () =>\n      computeScale(\n        viewportWidth,\n        viewportHeight,\n        zoom,\n        containerSize.width,\n        containerSize.height,\n        LAYOUT_CONFIG.fitMargin,\n      ),\n    [viewportWidth, viewportHeight, zoom, containerSize.width, containerSize.height],\n  );\n  const scaledWidth = Math.round(viewportWidth * scale);\n  const scaledHeight = Math.round(viewportHeight * scale);\n  const isZoomedIn = scale > 1;\n  const contentOverflows = scaledWidth > containerSize.width || scaledHeight > containerSize.height;\n  const canPan = isZoomedIn || contentOverflows;\n  const { pan, isDragging, handlePointerDown } = usePanWhenZoomed(\n    canPan,\n    deviceId,\n    effectiveRotation,\n    zoom,\n  );\n  const viewportTransform = useMemo(() => (scale !== 1 ? `scale(${scale})` : undefined), [scale]);\n  const deviceWrapperTransform = useMemo(\n    () =>\n      canPan && (pan.x !== 0 || pan.y !== 0) ? `translate(${pan.x}px, ${pan.y}px)` : undefined,\n    [canPan, pan.x, pan.y],\n  );\n\n  const stageStyle: React.CSSProperties = useMemo(\n    () => ({\n      position: \"fixed\" as const,\n      inset: 0,\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\" as const,\n      isolation: \"isolate\" as const,\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      justifyContent: \"center\",\n      boxSizing: \"border-box\",\n      padding: \"2%\",\n      transition: \"transform 240ms cubic-bezier(0.4, 0, 0.2, 1)\",\n      transformOrigin: \"center center\",\n      ...(stageBackground && { background: STAGE_GRADIENT }),\n      ...(canPan && {\n        cursor: isDragging ? (\"grabbing\" as const) : (\"grab\" as const),\n        userSelect: \"none\" as const,\n        touchAction: \"none\" as const,\n      }),\n      ...(isDragging && { overflow: \"hidden\" }),\n    }),\n    [canPan, isDragging],\n  );\n\n  const viewportStyle: React.CSSProperties = useMemo(\n    () =>\n      isConstrained\n        ? {\n            overflow: \"auto\" as const,\n            boxSizing: \"border-box\" as const,\n            transition: \"width 0.3s ease, height 0.3s ease\",\n            width: viewportWidth,\n            height: viewportHeight,\n            flexShrink: 0,\n            ...(viewportTransform && {\n              transform: viewportTransform,\n              transformOrigin: \"0 0\" as const,\n            }),\n          }\n        : {\n            overflow: \"auto\" as const,\n            boxSizing: \"border-box\" as const,\n            transition: \"width 0.3s ease, height 0.3s ease\",\n            width: \"100%\",\n            minHeight: \"100%\",\n          },\n    [isConstrained, viewportWidth, viewportHeight, viewportTransform],\n  );\n\n  const deviceWrapperStyle: React.CSSProperties = useMemo(\n    () => ({\n      position: \"relative\" as const,\n      display: \"inline-flex\" as const,\n      ...(deviceWrapperTransform && {\n        transform: deviceWrapperTransform,\n        transformOrigin: \"center center\",\n      }),\n    }),\n    [deviceWrapperTransform],\n  );\n\n  const dimensionsLabel = isConstrained ? `${viewportWidth} × ${viewportHeight}` : \"—\";\n\n  return {\n    enabled,\n    containerRef,\n    stageStyle: enabled ? stageStyle : {},\n    viewportStyle: enabled ? viewportStyle : {},\n    deviceWrapperStyle: enabled ? deviceWrapperStyle : {},\n    scale: enabled ? scale : 1,\n    scaledWidth: enabled && isConstrained ? scaledWidth : 0,\n    scaledHeight: enabled && isConstrained ? scaledHeight : 0,\n    dimensionsLabel: enabled ? dimensionsLabel : \"—\",\n    showFrame: enabled ? showFrame : false,\n    showSize: enabled ? showSize : false,\n    isConstrained: enabled ? isConstrained : false,\n    handlePointerDown: enabled ? handlePointerDown : () => {},\n  };\n}\n","/** Single device preset: dimensions, display name, and optional rotatable flag. */\nexport interface DevicePreset {\n  width: number;\n  height: number;\n  label: string;\n  /** If false, rotation is fixed at 0. Default true. */\n  rotatable?: boolean;\n}\n\n/** Device preset id. Use \"responsive\" for full width, \"custom\" for user dimensions. */\nexport type DeviceId =\n  | \"responsive\"\n  | \"custom\"\n  | \"iphoneSE\"\n  | \"iphone14\"\n  | \"iphonePro\"\n  | \"iphoneProMax\"\n  | \"androidSmall\"\n  | \"androidMedium\"\n  | \"androidLarge\"\n  | \"foldClosed\"\n  | \"foldOpen\"\n  | \"ipadMini\"\n  | \"ipad\"\n  | \"ipadAir\"\n  | \"ipadPro11\"\n  | \"ipadPro13\"\n  | \"macbookAir\"\n  | \"macbookPro14\"\n  | \"macbookPro16\"\n  | \"windowsLaptop\"\n  | \"desktopHD\"\n  | \"desktopQHD\"\n  | \"desktop4K\"\n  | \"desktop5K\"\n  | \"desktop8K\"\n  | \"ultrawide34\"\n  | \"ultrawide49\";\n\n/** Device presets keyed by DeviceId. */\nexport const DEVICES: Record<DeviceId, DevicePreset> = {\n  responsive: { width: 0, height: 0, label: \"Responsive\", rotatable: false },\n\n  iphoneSE: { width: 375, height: 667, label: \"iPhone SE\", rotatable: true },\n  iphone14: { width: 390, height: 844, label: \"iPhone 14 / 15\", rotatable: true },\n  iphonePro: { width: 393, height: 852, label: \"iPhone Pro\", rotatable: true },\n  iphoneProMax: { width: 430, height: 932, label: \"iPhone Pro Max\", rotatable: true },\n\n  androidSmall: { width: 360, height: 740, label: \"Android Small\", rotatable: true },\n  androidMedium: { width: 412, height: 915, label: \"Android Medium\", rotatable: true },\n  androidLarge: { width: 480, height: 1040, label: \"Android Large\", rotatable: true },\n\n  foldClosed: { width: 390, height: 850, label: \"Foldable (Closed)\", rotatable: true },\n  foldOpen: { width: 768, height: 1024, label: \"Foldable (Open)\", rotatable: true },\n\n  ipadMini: { width: 768, height: 1024, label: \"iPad Mini\", rotatable: true },\n  ipad: { width: 810, height: 1080, label: \"iPad\", rotatable: true },\n  ipadAir: { width: 820, height: 1180, label: \"iPad Air\", rotatable: true },\n  ipadPro11: { width: 834, height: 1194, label: \"iPad Pro 11″\", rotatable: true },\n  ipadPro13: { width: 1024, height: 1366, label: \"iPad Pro 13″\", rotatable: true },\n\n  macbookAir: { width: 1440, height: 900, label: \"MacBook Air\", rotatable: false },\n  macbookPro14: { width: 1512, height: 982, label: \"MacBook Pro 14″\", rotatable: false },\n  macbookPro16: { width: 1728, height: 1117, label: \"MacBook Pro 16″\", rotatable: false },\n  windowsLaptop: { width: 1366, height: 768, label: \"Windows Laptop\", rotatable: false },\n\n  desktopHD: { width: 1920, height: 1080, label: \"Full HD Desktop\", rotatable: false },\n  desktopQHD: { width: 2560, height: 1440, label: \"2K / QHD Display\", rotatable: false },\n  desktop4K: { width: 3840, height: 2160, label: \"4K Display\", rotatable: false },\n  desktop5K: { width: 5120, height: 2880, label: \"5K Display\", rotatable: false },\n  desktop8K: { width: 7680, height: 4320, label: \"8K Display\", rotatable: false },\n\n  ultrawide34: { width: 3440, height: 1440, label: \"34″ Ultrawide\", rotatable: false },\n  ultrawide49: { width: 5120, height: 1440, label: \"49″ Super Ultrawide\", rotatable: false },\n\n  custom: { width: 390, height: 844, label: \"Custom\", rotatable: true },\n};\n\n/** Categories for the device selector: label and regex to match device ids. */\nexport const DEVICE_CATEGORIES: Array<{ label: string; pattern: RegExp }> = [\n  { label: \"View\", pattern: /^(responsive|custom)$/ },\n  { label: \"Phones (iOS)\", pattern: /^iphone/ },\n  { label: \"Phones (Android)\", pattern: /^android/ },\n  { label: \"Foldables\", pattern: /^fold/ },\n  { label: \"Tablets\", pattern: /^ipad/ },\n  { label: \"Laptops\", pattern: /^(macbook|windows)/ },\n  { label: \"Desktops\", pattern: /^desktop/ },\n  { label: \"Ultrawide\", pattern: /^ultrawide/ },\n];\n","/**\n * Returns a filesystem-safe filename (no extension) from a device label.\n * Replaces spaces and \" / \" with \"-\", strips other invalid characters.\n *\n * @param label - The device label\n * @returns The sanitized filename\n */\nexport function sanitizeFilenameForDownload(label: string): string {\n  return (\n    label\n      .replace(/\\s*\\/\\s*/g, \"-\")\n      .replace(/\\s+/g, \"-\")\n      .replace(/[^a-zA-Z0-9._-]/g, \"\")\n      .replace(/-+/g, \"-\")\n      .replace(/^-|-$/g, \"\") || \"preview\"\n  );\n}\n","import { useGlobals, useStorybookApi } from \"@storybook/manager-api\";\nimport type React from \"react\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport {\n  ADDON_ID,\n  DEFAULT_DEVICE_ID,\n  DEFAULT_ROTATION,\n  DEFAULT_ZOOM,\n  type Rotation,\n  RTA_PREVIEW_CUSTOM_HEIGHT,\n  RTA_PREVIEW_CUSTOM_WIDTH,\n  RTA_PREVIEW_DEVICE,\n  RTA_PREVIEW_ENABLED,\n  RTA_PREVIEW_ROTATE,\n  RTA_PREVIEW_TOOLBAR_VISIBLE,\n  RTA_PREVIEW_ZOOM,\n  ZOOM_CONFIG,\n} from \"../constants\";\nimport type { DeviceId } from \"../devices\";\nimport { DEVICES } from \"../devices\";\n\n/**\n * Toolbar state and actions from Storybook globals; registers zoom shortcuts (Ctrl/Cmd + = / - / 0).\n *\n * @returns Object with state (enabled, deviceId, rotation, zoom, customWidth, customHeight,\n *   toolbarVisible, device, rotatable, isCustom), handlers (setEnabled, setDevice, cycleRotation,\n *   zoomIn, zoomOut, zoomFit, setCustomWidth, setCustomHeight, toggleToolbar), and\n *   UI values (zoomNum, canZoomIn, canZoomOut).\n */\n/**\n * Wraps Storybook's updateGlobals so that if the consumer did not declare our globals\n * (initialGlobals / getRtaPreviewPreviewConfig), we no-op instead of throwing.\n */\nfunction safeUpdateGlobals(\n  updateGlobals: (patch: Record<string, unknown>) => void,\n  patch: Record<string, unknown>,\n): void {\n  try {\n    updateGlobals(patch);\n  } catch {\n    // Globals not declared in preview; add ...getRtaPreviewPreviewConfig() to fix.\n  }\n}\n\nconst GLOBALS_HINT =\n  \"RTA Preview: Add ...getRtaPreviewPreviewConfig() to your .storybook/preview.ts so addon globals are declared. See rta-preview-addon README.\";\n\nexport function useRtaPreview() {\n  const [globals, updateGlobals] = useGlobals();\n  const api = useStorybookApi();\n  const hintLoggedRef = useRef(false);\n  const attemptedEnableRef = useRef(false);\n\n  const safeUpdate = useCallback(\n    (patch: Record<string, unknown>) => safeUpdateGlobals(updateGlobals, patch),\n    [updateGlobals],\n  );\n\n  const enabled = (globals[RTA_PREVIEW_ENABLED] as boolean | undefined) ?? false;\n  const deviceId = (globals[RTA_PREVIEW_DEVICE] as string) ?? DEFAULT_DEVICE_ID;\n  const rotation = (globals[RTA_PREVIEW_ROTATE] as Rotation) ?? DEFAULT_ROTATION;\n  const zoom = (globals[RTA_PREVIEW_ZOOM] as \"fit\" | number) ?? DEFAULT_ZOOM;\n  const customWidth = globals[RTA_PREVIEW_CUSTOM_WIDTH] as number | undefined;\n  const customHeight = globals[RTA_PREVIEW_CUSTOM_HEIGHT] as number | undefined;\n  const toolbarVisible = (globals[RTA_PREVIEW_TOOLBAR_VISIBLE] as boolean | undefined) ?? !!enabled;\n\n  const device = DEVICES[deviceId as DeviceId];\n  const rotatable = device?.rotatable ?? true;\n  const isCustom = deviceId === \"custom\";\n\n  const setDevice = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      const key = e.target.value as DeviceId;\n      safeUpdate({\n        [RTA_PREVIEW_DEVICE]: key,\n        [RTA_PREVIEW_ZOOM]: \"fit\" as const,\n        ...(DEVICES[key] && !DEVICES[key].rotatable ? { [RTA_PREVIEW_ROTATE]: 0 as Rotation } : {}),\n      });\n    },\n    [safeUpdate],\n  );\n\n  const cycleRotation = useCallback(() => {\n    if (!rotatable) return;\n    const next: Rotation = rotation === 270 ? 0 : ((rotation + 90) as Rotation);\n    safeUpdate({ [RTA_PREVIEW_ROTATE]: next, [RTA_PREVIEW_ZOOM]: \"fit\" as const });\n  }, [rotation, rotatable, safeUpdate]);\n\n  const zoomIn = useCallback(() => {\n    const current = typeof zoom === \"number\" ? zoom : 1;\n    const next = Math.min(ZOOM_CONFIG.max, current + ZOOM_CONFIG.step);\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: next });\n  }, [zoom, safeUpdate]);\n\n  const zoomOut = useCallback(() => {\n    const current = typeof zoom === \"number\" ? zoom : 1;\n    const next = Math.max(ZOOM_CONFIG.min, current - ZOOM_CONFIG.step);\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: next });\n  }, [zoom, safeUpdate]);\n\n  const zoomFit = useCallback(() => {\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: \"fit\" });\n  }, [safeUpdate]);\n\n  const setCustomWidth = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const n = Number.parseInt(e.target.value, 10);\n      safeUpdate({ [RTA_PREVIEW_CUSTOM_WIDTH]: Number.isNaN(n) ? undefined : n });\n    },\n    [safeUpdate],\n  );\n\n  const setCustomHeight = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const n = Number.parseInt(e.target.value, 10);\n      safeUpdate({ [RTA_PREVIEW_CUSTOM_HEIGHT]: Number.isNaN(n) ? undefined : n });\n    },\n    [safeUpdate],\n  );\n\n  const setEnabled = useCallback(\n    (value: boolean) => {\n      if (value) attemptedEnableRef.current = true;\n      safeUpdate({ [RTA_PREVIEW_ENABLED]: value });\n    },\n    [safeUpdate],\n  );\n\n  useEffect(() => {\n    if (enabled) {\n      attemptedEnableRef.current = false;\n      return;\n    }\n    if (!attemptedEnableRef.current) return;\n    const id = setTimeout(() => {\n      if (!hintLoggedRef.current) {\n        console.info(GLOBALS_HINT);\n        hintLoggedRef.current = true;\n      }\n      attemptedEnableRef.current = false;\n    }, 200);\n    return () => clearTimeout(id);\n  }, [enabled]);\n\n  const toggleToolbar = useCallback(() => {\n    safeUpdate({ [RTA_PREVIEW_TOOLBAR_VISIBLE]: !toolbarVisible });\n  }, [toolbarVisible, safeUpdate]);\n\n  useEffect(() => {\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Zoom in\",\n      defaultShortcut: [\"ctrl\", \"=\"],\n      actionName: \"rta-zoom-in\",\n      showInMenu: false,\n      action: zoomIn,\n    });\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Zoom out\",\n      defaultShortcut: [\"ctrl\", \"-\"],\n      actionName: \"rta-zoom-out\",\n      showInMenu: false,\n      action: zoomOut,\n    });\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Fit viewport\",\n      defaultShortcut: [\"ctrl\", \"0\"],\n      actionName: \"rta-zoom-fit\",\n      showInMenu: false,\n      action: zoomFit,\n    });\n  }, [api, zoomIn, zoomOut, zoomFit]);\n\n  const zoomNum = typeof zoom === \"number\" ? zoom : 1;\n  const canZoomIn = zoomNum < ZOOM_CONFIG.max;\n  const canZoomOut = zoomNum > ZOOM_CONFIG.min;\n\n  return {\n    enabled,\n    deviceId,\n    rotation,\n    zoom,\n    customWidth,\n    customHeight,\n    toolbarVisible,\n    toggleToolbar,\n    setEnabled,\n    device,\n    rotatable,\n    isCustom,\n    setDevice,\n    cycleRotation,\n    zoomIn,\n    zoomOut,\n    zoomFit,\n    setCustomWidth,\n    setCustomHeight,\n    zoomNum,\n    canZoomIn,\n    canZoomOut,\n  };\n}\n","import type React from \"react\";\nimport { memo } from \"react\";\nimport { Input, Label, Row } from \"./Styles\";\n\nexport interface CustomDimensionsProps {\n  customWidth: number | undefined;\n  customHeight: number | undefined;\n  onCustomWidthChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onCustomHeightChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\n/** Custom dimensions input for the RTA Preview addon.\n *\n * @param customWidth - The current custom width.\n * @param customHeight - The current custom height.\n * @param onCustomWidthChange - The function to call when the custom width is changed.\n * @param onCustomHeightChange - The function to call when the custom height is changed.\n * @returns The custom dimensions input.\n */\nexport const CustomDimensions = memo(function CustomDimensions({\n  customWidth,\n  customHeight,\n  onCustomWidthChange,\n  onCustomHeightChange,\n}: CustomDimensionsProps) {\n  return (\n    <Row>\n      <Label htmlFor=\"rta-preview-width\">W</Label>\n      <Input\n        id=\"rta-preview-width\"\n        type=\"number\"\n        min={100}\n        placeholder=\"—\"\n        value={customWidth ?? \"\"}\n        onChange={onCustomWidthChange}\n        aria-label=\"Custom width\"\n      />\n      <Label htmlFor=\"rta-preview-height\">H</Label>\n      <Input\n        id=\"rta-preview-height\"\n        type=\"number\"\n        min={100}\n        placeholder=\"—\"\n        value={customHeight ?? \"\"}\n        onChange={onCustomHeightChange}\n        aria-label=\"Custom height\"\n      />\n    </Row>\n  );\n});\n","import { styled } from \"@storybook/theming\";\n\n/** Toolbar button default text color (matches Storybook toolbar). */\nconst TOOLBAR_BUTTON_COLOR = \"rgb(115, 130, 140)\";\n/** Toolbar button hover color (Storybook blue). */\nconst TOOLBAR_BUTTON_HOVER_COLOR = \"rgb(2, 156, 253)\";\nconst TOOLBAR_BUTTON_HOVER_BG = \"rgba(2, 156, 253, 0.14)\";\n\n/** CSS style element to make scrollbars thin and match Storybook style. */\nexport const THIN_SCROLLBAR_STYLE = (\n  <style\n    // biome-ignore lint/security/noDangerouslySetInnerHtml: static addon CSS only, no user input\n    dangerouslySetInnerHTML={{\n      __html: `\n.rta-preview-viewport {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(128, 128, 128, 0.6) transparent;\n}\n.rta-preview-viewport::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n.rta-preview-viewport::-webkit-scrollbar-track {\n  background: transparent;\n}\n.rta-preview-viewport::-webkit-scrollbar-thumb {\n  background: rgba(128, 128, 128, 0.6);\n  border-radius: 4px;\n}\n.rta-preview-viewport::-webkit-scrollbar-thumb:hover {\n  background: rgba(128, 128, 128, 0.8);\n}\n`,\n    }}\n  />\n);\n\n/** CSS for Fit button flash when autofit is called (border highlight that fades out). */\nexport const FIT_BUTTON_FLASH_STYLE = (\n  <style\n    // biome-ignore lint/security/noDangerouslySetInnerHtml: static addon CSS only, no user input\n    dangerouslySetInnerHTML={{\n      __html: `\n@keyframes rta-fit-flash {\n  0% { box-shadow: 0 0 0 2px rgba(2, 156, 253, 0.7); }\n  100% { box-shadow: none; }\n}\n.rta-preview-toolbar button[data-flashing=\"true\"] {\n  animation: rta-fit-flash 500ms ease-out forwards;\n}\n`,\n    }}\n  />\n);\n\n/** Resolve toolbar/bar colors so the addon matches Storybook toolbar in light and dark. */\nfunction getToolbarColors(theme: {\n  base?: string;\n  barBg?: string;\n  barTextColor?: string;\n  barHoverColor?: string;\n  barSelectedColor?: string;\n  appBorderColor?: string;\n}) {\n  return {\n    border: theme.appBorderColor ?? (theme.base === \"dark\" ? \"#333\" : \"#ccc\"),\n    /** Default toolbar button text (muted); match Storybook's toolbar icon color. */\n    buttonColor: theme.barTextColor ?? TOOLBAR_BUTTON_COLOR,\n    /** Hover: use theme secondary/highlight or Storybook blue. */\n    buttonHoverColor: theme.barHoverColor ?? theme.barSelectedColor ?? TOOLBAR_BUTTON_HOVER_COLOR,\n    buttonHoverBg: TOOLBAR_BUTTON_HOVER_BG,\n    selectedBg: theme.barSelectedColor ?? (theme.base === \"dark\" ? \"#3d3d3d\" : \"#e0e0e0\"),\n    selectedText: theme.base === \"dark\" ? \"#fff\" : \"#1a1a1a\",\n  };\n}\n\n/** Resolve input/control colors from theme. */\nfunction getInputColors(theme: {\n  base?: string;\n  inputBg?: string;\n  inputTextColor?: string;\n  appBorderColor?: string;\n  textMutedColor?: string;\n}) {\n  const dark = theme.base === \"dark\";\n  return {\n    bg: theme.inputBg ?? (dark ? \"#2d2d2d\" : \"#fff\"),\n    text: theme.inputTextColor ?? (dark ? \"#eee\" : \"#333\"),\n    border: theme.appBorderColor ?? (dark ? \"#444\" : \"#ccc\"),\n    muted: theme.textMutedColor ?? (dark ? \"#999\" : \"#666\"),\n  };\n}\n\nconst fontSize = (theme: { typography?: { size?: { s2?: number } } }) =>\n  theme.typography?.size?.s2 ?? 12;\nconst radius = (theme: { appBorderRadius?: number }) => theme.appBorderRadius ?? 4;\n\n/** Outer container for the toolbar; inline flex with theme gap. */\nexport const Toolbar = styled.div(({ theme }) => {\n  const { border } = getToolbarColors(theme);\n  return {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: theme.layoutMargin ?? 8,\n    padding: \"0 4px\",\n    borderLeft: `1px solid ${border}`,\n    marginLeft: 4,\n  };\n});\n\n/** Label for form controls (device, zoom, width, height). */\nexport const Label = styled.label(({ theme }) => {\n  const { muted } = getInputColors(theme);\n  return {\n    fontSize: fontSize(theme),\n    color: muted,\n    marginRight: 4,\n  };\n});\n\n/** Readonly zoom percentage display in toolbar (muted, same font size). */\nexport const ZoomPercent = styled.span(({ theme }) => {\n  const { muted } = getInputColors(theme);\n  return {\n    fontSize: fontSize(theme),\n    color: muted,\n    minWidth: 36,\n    textAlign: \"right\" as const,\n    userSelect: \"none\" as const,\n  };\n});\n\n/** Native select styled to match Storybook toolbar and inputs. */\nexport const Select = styled.select(({ theme }) => {\n  const { bg, text, border } = getInputColors(theme);\n  return {\n    padding: \"4px 8px\",\n    fontSize: fontSize(theme),\n    border: `1px solid ${border}`,\n    borderRadius: radius(theme),\n    background: bg,\n    color: text,\n    minWidth: 120,\n  };\n});\n\n/** Action button (zoom, rotate, toggles); matches Storybook toolbar button style. */\nexport const Button = styled.button(({ theme }) => {\n  const { buttonColor, buttonHoverColor, buttonHoverBg, selectedBg, selectedText } =\n    getToolbarColors(theme);\n  return {\n    border: 0,\n    cursor: \"pointer\",\n    gap: 6,\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    padding: \"0 7px\",\n    height: 28,\n    position: \"relative\",\n    textAlign: \"center\",\n    textDecoration: \"none\",\n    transitionProperty: \"background, box-shadow\",\n    transitionDuration: \"150ms\",\n    transitionTimingFunction: \"ease-out\",\n    verticalAlign: \"top\",\n    whiteSpace: \"nowrap\",\n    userSelect: \"none\",\n    opacity: 1,\n    margin: 0,\n    fontSize: fontSize(theme),\n    fontWeight: 700,\n    lineHeight: 1,\n    background: \"transparent\",\n    color: buttonColor,\n    boxShadow: \"none\",\n    borderRadius: radius(theme),\n    flexShrink: 0,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    \"& svg\": {\n      color: buttonColor,\n    },\n    \"&:hover:not(:disabled)\": {\n      color: buttonHoverColor,\n      background: buttonHoverBg,\n    },\n    \"&:hover:not(:disabled) svg\": {\n      color: buttonHoverColor,\n    },\n    \"&[aria-pressed='true']\": {\n      background: selectedBg,\n      color: selectedText,\n    },\n    \"&:disabled\": {\n      opacity: 0.5,\n      cursor: \"not-allowed\",\n    },\n  };\n});\n\n/** Number input for custom width and height. */\nexport const Input = styled.input(({ theme }) => {\n  const { bg, text, border } = getInputColors(theme);\n  return {\n    width: 56,\n    padding: \"4px 6px\",\n    fontSize: fontSize(theme),\n    border: `1px solid ${border}`,\n    borderRadius: radius(theme),\n    background: bg,\n    color: text,\n  };\n});\n\n/** Horizontal flex container for a single control group (e.g. device dropdown, zoom buttons). */\nexport const Row = styled.div({\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  gap: 6,\n});\n","import type React from \"react\";\nimport { memo } from \"react\";\nimport type { DeviceId } from \"../devices\";\nimport { DEVICE_CATEGORIES, DEVICES } from \"../devices\";\nimport { Select } from \"./Styles\";\n\nexport interface DeviceProps {\n  deviceId: string;\n  onDeviceChange: (e: React.ChangeEvent<HTMLSelectElement>) => void;\n}\n\n/** Device selector for the RTA Preview addon.\n *\n * @param deviceId - The current device id.\n * @param onDeviceChange - The function to call when the device is changed.\n * @returns The device selector.\n */\nexport const Device = memo(function Device({ deviceId, onDeviceChange }: DeviceProps) {\n  return (\n    <Select\n      id=\"rta-preview-device\"\n      value={deviceId}\n      onChange={onDeviceChange}\n      aria-label=\"Select device viewport\"\n    >\n      {DEVICE_CATEGORIES.map(({ label: groupLabel, pattern }) => {\n        const keys = (Object.keys(DEVICES) as DeviceId[]).filter((k) => pattern.test(k));\n        if (!keys.length) return null;\n        return (\n          <optgroup key={groupLabel} label={groupLabel}>\n            {keys.map((id) => (\n              <option key={id} value={id}>\n                {DEVICES[id].label}\n              </option>\n            ))}\n          </optgroup>\n        );\n      })}\n    </Select>\n  );\n});\n","import { addons } from \"@storybook/manager-api\";\nimport { memo } from \"react\";\nimport { RTA_PREVIEW_DOWNLOAD_VIEW } from \"../constants\";\nimport { sanitizeFilenameForDownload } from \"../lib\";\nimport { Button } from \"./Styles\";\n\n/** Download icon for saving the current view.\n *\n * @param size - The size of the icon.\n * @returns The download icon.\n */\nfunction DownloadIcon({ size = 16 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      aria-hidden\n    >\n      <title>Download</title>\n      <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\n      <polyline points=\"7 10 12 15 17 10\" />\n      <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\n    </svg>\n  );\n}\n\nexport interface DownloadProps {\n  deviceLabel: string | undefined;\n  deviceId: string;\n}\n\n/** Download button for the RTA Preview addon.\n *\n * @param deviceLabel - The current device label.\n * @param deviceId - The current device id.\n * @returns The download button.\n */\nexport const Download = memo(function Download({ deviceLabel, deviceId }: DownloadProps) {\n  const handleClick = () => {\n    const label = deviceLabel ?? deviceId;\n    const base = sanitizeFilenameForDownload(label);\n    const filename = `${base}.png`;\n    addons.getChannel().emit(RTA_PREVIEW_DOWNLOAD_VIEW, { filename });\n  };\n\n  return (\n    <Button\n      type=\"button\"\n      onClick={handleClick}\n      aria-label=\"Download current view\"\n      title=\"Download current view\"\n    >\n      <DownloadIcon />\n    </Button>\n  );\n});\n","import { memo } from \"react\";\nimport { Button } from \"./Styles\";\n\n/** Phone/mobile icon for the RTA Preview toggle.\n *\n * @returns The phone/mobile icon.\n */\nfunction PhoneIcon({ size = 16 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"54 1 147 253\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{ transform: \"scale(1.3)\" }}\n      aria-hidden\n    >\n      <title>Phone</title>\n      <g\n        style={{\n          stroke: \"none\",\n          strokeWidth: 0,\n          fill: \"currentColor\",\n          fillRule: \"nonzero\",\n          opacity: 1,\n        }}\n        transform=\"matrix(2.81 0 0 2.81 1.407 1.407)\"\n      >\n        <path d=\"M64.967 0H25.033a6.106 6.106 0 0 0-6.099 6.098v77.803A6.107 6.107 0 0 0 25.033 90h39.934a6.106 6.106 0 0 0 6.099-6.099V6.098A6.106 6.106 0 0 0 64.967 0zM20.935 12.417h48.131v63.67H20.935v-63.67zM25.033 2h39.934a4.103 4.103 0 0 1 4.099 4.098v4.319H20.935V6.098A4.102 4.102 0 0 1 25.033 2zm39.934 86H25.033a4.104 4.104 0 0 1-4.099-4.099v-5.814h48.131v5.814A4.103 4.103 0 0 1 64.967 88z\" />\n        <circle cx=\"45\" cy=\"83.04\" r=\"2\" />\n        <path d=\"M47.169 7.254H36.114a1 1 0 0 1 0-2h11.055a1 1 0 1 1 0 2z\" />\n        <circle cx=\"51.89\" cy=\"6.25\" r=\"1.5\" />\n      </g>\n    </svg>\n  );\n}\n\nexport interface EnableProps {\n  enabled: boolean;\n  onSetEnabled: (value: boolean) => void;\n}\n\n/** Enable button for the RTA Preview addon.\n *\n * @param enabled - Whether the RTA Preview is enabled.\n * @param onSetEnabled - The function to call when the RTA Preview is enabled.\n * @returns The enable button.\n */\nexport const Enable = memo(function Enable({ enabled, onSetEnabled }: EnableProps) {\n  return (\n    <Button\n      type=\"button\"\n      onClick={() => onSetEnabled(!enabled)}\n      aria-label={enabled ? \"Disable RTA Preview\" : \"Enable RTA Preview\"}\n      title={enabled ? \"Turn off device preview\" : \"Enable device preview\"}\n    >\n      <PhoneIcon />\n    </Button>\n  );\n});\n","import { memo } from \"react\";\nimport { Button, Row } from \"./Styles\";\n\nexport interface RotationProps {\n  rotation: number;\n  rotatable: boolean;\n  onCycleRotation: () => void;\n}\n\n/** Rotation button for rotating the viewport device.\n *\n * @param rotation - The current rotation in degrees.\n * @param rotatable - Whether the viewport is rotatable.\n * @param onCycleRotation - The function to call when the rotation is cycled.\n * @returns The rotation button.\n */\nexport const Rotation = memo(function Rotation({\n  rotation,\n  rotatable,\n  onCycleRotation,\n}: RotationProps) {\n  if (!rotatable) return null;\n\n  return (\n    <Row>\n      <Button\n        type=\"button\"\n        onClick={onCycleRotation}\n        aria-label={`Rotate (${rotation}°)`}\n        title={rotation === 0 ? \"Portrait → Landscape\" : \"Landscape → Portrait\"}\n      >\n        {rotation === 0 ? \"↺ Portrait\" : \"↻ Landscape\"}\n      </Button>\n    </Row>\n  );\n});\n","import { memo } from \"react\";\nimport { Button, Row, ZoomPercent } from \"./Styles\";\n\nexport interface ZoomProps {\n  zoomNum: number;\n  canZoomIn: boolean;\n  canZoomOut: boolean;\n  fitButtonFlash: boolean;\n  onZoomIn: () => void;\n  onZoomOut: () => void;\n  onZoomFit: () => void;\n}\n\n/** Zoom button for the RTA Preview addon.\n *\n * @param zoomNum - The current zoom level.\n * @param canZoomIn - Whether the zoom can be increased.\n * @param canZoomOut - Whether the zoom can be decreased.\n * @param fitButtonFlash - Whether the fit button is flashing.\n * @param onZoomIn - The function to call when the zoom is increased.\n * @param onZoomOut - The function to call when the zoom is decreased.\n * @param onZoomFit - The function to call when the zoom is fit.\n * @returns The zoom button.\n */\nexport const Zoom = memo(function Zoom({\n  zoomNum,\n  canZoomIn,\n  canZoomOut,\n  fitButtonFlash,\n  onZoomIn,\n  onZoomOut,\n  onZoomFit,\n}: ZoomProps) {\n  return (\n    <Row>\n      <Button\n        type=\"button\"\n        onClick={onZoomOut}\n        disabled={!canZoomOut}\n        aria-label=\"Zoom out\"\n        title=\"Zoom out\"\n      >\n        −\n      </Button>\n      <Button\n        type=\"button\"\n        onClick={onZoomFit}\n        aria-label=\"Fit\"\n        title=\"Fit to view\"\n        data-flashing={fitButtonFlash ? \"true\" : undefined}\n      >\n        Fit\n      </Button>\n      <Button\n        type=\"button\"\n        onClick={onZoomIn}\n        disabled={!canZoomIn}\n        aria-label=\"Zoom in\"\n        title=\"Zoom in\"\n      >\n        +\n      </Button>\n      <ZoomPercent aria-label=\"Zoom percentage\" role=\"status\">\n        {`${Math.round(zoomNum * 100)}%`}\n      </ZoomPercent>\n    </Row>\n  );\n});\n"],"mappings":"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","names":["addons","memo","useCallback","useEffect","useState","useEffect","useRef","useCallback","useEffect","useRef","useState","useEffect","useGlobals","useCallback","useEffect","useRef","useGlobals","useRef","useCallback","useEffect","jsx","CustomDimensions","memo","jsx","memo","Device","memo","jsx","jsxs","memo","Download","memo","jsx","jsxs","memo","Enable","memo","jsx","memo","Rotation","memo","jsx","jsxs","memo","Zoom","jsx","jsxs","memo","Toolbar","useState","useCallback","useEffect","jsx","addons"]}