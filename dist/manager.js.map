{"version":3,"sources":["../src/constants.ts","../src/devices.ts","../src/lib/download-filename.ts","../src/hooks/useRtaPreview.ts","../src/ui/Styles.tsx","../src/ui/CustomDimensions.tsx","../src/ui/Device.tsx","../src/ui/Download.tsx","../src/ui/Enable.tsx","../src/ui/Rotation.tsx","../src/ui/Zoom.tsx","../src/ui/Tool.tsx","../src/ui/Manager.tsx"],"names":["useGlobals","useRef","useCallback","useEffect","CustomDimensions","jsx","memo","Device","jsxs","Download","Enable","Rotation","Zoom","Toolbar","useState","addons"],"mappings":"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","file":"manager.js","sourcesContent":["import type React from \"react\";\nimport type { DeviceId } from \"./devices\";\n\n/** Storybook addon ID; use when registering the addon or adding tools. */\nexport const ADDON_ID = \"rta-preview-addon\";\n\n/** Tool ID for the RTA Preview toolbar item. */\nexport const TOOL_ID = \"rta-preview-tool\";\n\n/** Channel event for requesting a download of the current preview view. */\nexport const RTA_PREVIEW_DOWNLOAD_VIEW = \"rta-preview/download-view\";\n\n/** Global key for the selected device preset id. */\nexport const RTA_PREVIEW_DEVICE = \"rtaPreviewDevice\";\n/** Global key for viewport rotation in degrees (0, 90, 180, 270). */\nexport const RTA_PREVIEW_ROTATE = \"rtaPreviewRotate\";\n/** Global key for zoom level: \"fit\" or a number. */\nexport const RTA_PREVIEW_ZOOM = \"rtaPreviewZoom\";\n/** Global key for custom viewport width when device is \"custom\". */\nexport const RTA_PREVIEW_CUSTOM_WIDTH = \"rtaPreviewCustomWidth\";\n/** Global key for custom viewport height when device is \"custom\". */\nexport const RTA_PREVIEW_CUSTOM_HEIGHT = \"rtaPreviewCustomHeight\";\n/** Global key for whether the stage shows a gradient background. */\nexport const RTA_PREVIEW_STAGE_BACKGROUND = \"rtaPreviewStageBackground\";\n/** Global key for whether the dimensions overlay is visible. */\nexport const RTA_PREVIEW_SHOW_SIZE = \"rtaPreviewShowSize\";\n/** Global key for whether the device frame is visible. */\nexport const RTA_PREVIEW_SHOW_FRAME = \"rtaPreviewShowFrame\";\n/** Global key for whether the RTA Preview toolbar is visible. */\nexport const RTA_PREVIEW_TOOLBAR_VISIBLE = \"rtaPreviewToolbarVisible\";\n/** Global key for whether RTA Preview (device mode) is enabled. When false, preview is pass-through and toolbar shows only the enable control. */\nexport const RTA_PREVIEW_ENABLED = \"rtaPreviewEnabled\";\n\n/** Viewport rotation in degrees. Only 0, 90, 180, and 270 are valid. */\nexport type Rotation = 0 | 90 | 180 | 270;\n\n/** Default device when no global is set. */\nexport const DEFAULT_DEVICE_ID: DeviceId = \"iphoneProMax\";\n/** Default rotation in degrees when no global is set. */\nexport const DEFAULT_ROTATION = 0 as const;\n/** Default zoom when no global is set. */\nexport const DEFAULT_ZOOM: \"fit\" | number = \"fit\";\n\n/** Zoom limits and step for toolbar zoom in/out. Used by manager and by computeScale. */\nexport const ZOOM_CONFIG = {\n  min: 0.1,\n  max: 3,\n  step: 0.05,\n} as const;\n\n/**\n * Layout config for preview stage.\n * - padding: reserved for future layout calculations (POC parity).\n * - resizeDebounceMs: debounce delay (ms) for resize-triggered updates.\n * - fitMargin: margin (px) reserved on each side when computing fit scale; content fits inside (container - 2*fitMargin).\n */\nexport const LAYOUT_CONFIG = {\n  padding: 128,\n  resizeDebounceMs: 150,\n  fitMargin: 32,\n} as const;\n\n// -----------------------------------------------------------------------------\n// Preview UI constants\n// -----------------------------------------------------------------------------\n\n/** Inline style for the dimensions overlay (bottom-right of the viewport). */\nexport const SIZE_OVERLAY_STYLE: React.CSSProperties = {\n  position: \"absolute\",\n  bottom: 8,\n  right: 8,\n  padding: \"0 12px\",\n  height: 32,\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  background: \"rgba(0, 0, 0, 0.5)\",\n  color: \"rgba(255, 255, 255, 0.7)\",\n  fontSize: 13,\n  fontFamily: \"monospace\",\n  borderRadius: 8,\n  pointerEvents: \"none\",\n};\n\n/** Inline style for the device frame wrapper around the viewport. */\nexport const FRAME_STYLE: React.CSSProperties = {\n  padding: 12,\n  background: \"#111\",\n  border: \"2px solid #555\",\n  borderRadius: 20,\n  boxShadow: \"0 24px 48px -12px rgba(0, 0, 0, 0.6)\",\n  boxSizing: \"border-box\",\n};\n","/** Single device preset: dimensions, display name, and optional rotatable flag. */\nexport interface DevicePreset {\n  width: number;\n  height: number;\n  label: string;\n  /** If false, rotation is fixed at 0. Default true. */\n  rotatable?: boolean;\n}\n\n/** Device preset id. Use \"responsive\" for full width, \"custom\" for user dimensions. */\nexport type DeviceId =\n  | \"responsive\"\n  | \"custom\"\n  | \"iphoneSE\"\n  | \"iphone14\"\n  | \"iphonePro\"\n  | \"iphoneProMax\"\n  | \"androidSmall\"\n  | \"androidMedium\"\n  | \"androidLarge\"\n  | \"foldClosed\"\n  | \"foldOpen\"\n  | \"ipadMini\"\n  | \"ipad\"\n  | \"ipadAir\"\n  | \"ipadPro11\"\n  | \"ipadPro13\"\n  | \"macbookAir\"\n  | \"macbookPro14\"\n  | \"macbookPro16\"\n  | \"windowsLaptop\"\n  | \"desktopHD\"\n  | \"desktopQHD\"\n  | \"desktop4K\"\n  | \"desktop5K\"\n  | \"desktop8K\"\n  | \"ultrawide34\"\n  | \"ultrawide49\";\n\n/** Device presets keyed by DeviceId. */\nexport const DEVICES: Record<DeviceId, DevicePreset> = {\n  responsive: { width: 0, height: 0, label: \"Responsive\", rotatable: false },\n\n  iphoneSE: { width: 375, height: 667, label: \"iPhone SE\", rotatable: true },\n  iphone14: { width: 390, height: 844, label: \"iPhone 14 / 15\", rotatable: true },\n  iphonePro: { width: 393, height: 852, label: \"iPhone Pro\", rotatable: true },\n  iphoneProMax: { width: 430, height: 932, label: \"iPhone Pro Max\", rotatable: true },\n\n  androidSmall: { width: 360, height: 740, label: \"Android Small\", rotatable: true },\n  androidMedium: { width: 412, height: 915, label: \"Android Medium\", rotatable: true },\n  androidLarge: { width: 480, height: 1040, label: \"Android Large\", rotatable: true },\n\n  foldClosed: { width: 390, height: 850, label: \"Foldable (Closed)\", rotatable: true },\n  foldOpen: { width: 768, height: 1024, label: \"Foldable (Open)\", rotatable: true },\n\n  ipadMini: { width: 768, height: 1024, label: \"iPad Mini\", rotatable: true },\n  ipad: { width: 810, height: 1080, label: \"iPad\", rotatable: true },\n  ipadAir: { width: 820, height: 1180, label: \"iPad Air\", rotatable: true },\n  ipadPro11: { width: 834, height: 1194, label: \"iPad Pro 11″\", rotatable: true },\n  ipadPro13: { width: 1024, height: 1366, label: \"iPad Pro 13″\", rotatable: true },\n\n  macbookAir: { width: 1440, height: 900, label: \"MacBook Air\", rotatable: false },\n  macbookPro14: { width: 1512, height: 982, label: \"MacBook Pro 14″\", rotatable: false },\n  macbookPro16: { width: 1728, height: 1117, label: \"MacBook Pro 16″\", rotatable: false },\n  windowsLaptop: { width: 1366, height: 768, label: \"Windows Laptop\", rotatable: false },\n\n  desktopHD: { width: 1920, height: 1080, label: \"Full HD Desktop\", rotatable: false },\n  desktopQHD: { width: 2560, height: 1440, label: \"2K / QHD Display\", rotatable: false },\n  desktop4K: { width: 3840, height: 2160, label: \"4K Display\", rotatable: false },\n  desktop5K: { width: 5120, height: 2880, label: \"5K Display\", rotatable: false },\n  desktop8K: { width: 7680, height: 4320, label: \"8K Display\", rotatable: false },\n\n  ultrawide34: { width: 3440, height: 1440, label: \"34″ Ultrawide\", rotatable: false },\n  ultrawide49: { width: 5120, height: 1440, label: \"49″ Super Ultrawide\", rotatable: false },\n\n  custom: { width: 390, height: 844, label: \"Custom\", rotatable: true },\n};\n\n/** Categories for the device selector: label and regex to match device ids. */\nexport const DEVICE_CATEGORIES: Array<{ label: string; pattern: RegExp }> = [\n  { label: \"View\", pattern: /^(responsive|custom)$/ },\n  { label: \"Phones (iOS)\", pattern: /^iphone/ },\n  { label: \"Phones (Android)\", pattern: /^android/ },\n  { label: \"Foldables\", pattern: /^fold/ },\n  { label: \"Tablets\", pattern: /^ipad/ },\n  { label: \"Laptops\", pattern: /^(macbook|windows)/ },\n  { label: \"Desktops\", pattern: /^desktop/ },\n  { label: \"Ultrawide\", pattern: /^ultrawide/ },\n];\n","/**\n * Returns a filesystem-safe filename (no extension) from a device label.\n * Replaces spaces and \" / \" with \"-\", strips other invalid characters.\n *\n * @param label - The device label\n * @returns The sanitized filename\n */\nexport function sanitizeFilenameForDownload(label: string): string {\n  return (\n    label\n      .replace(/\\s*\\/\\s*/g, \"-\")\n      .replace(/\\s+/g, \"-\")\n      .replace(/[^a-zA-Z0-9._-]/g, \"\")\n      .replace(/-+/g, \"-\")\n      .replace(/^-|-$/g, \"\") || \"preview\"\n  );\n}\n","import type React from \"react\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport { useGlobals, useStorybookApi } from \"storybook/manager-api\";\nimport {\n  ADDON_ID,\n  DEFAULT_DEVICE_ID,\n  DEFAULT_ROTATION,\n  DEFAULT_ZOOM,\n  type Rotation,\n  RTA_PREVIEW_CUSTOM_HEIGHT,\n  RTA_PREVIEW_CUSTOM_WIDTH,\n  RTA_PREVIEW_DEVICE,\n  RTA_PREVIEW_ENABLED,\n  RTA_PREVIEW_ROTATE,\n  RTA_PREVIEW_TOOLBAR_VISIBLE,\n  RTA_PREVIEW_ZOOM,\n  ZOOM_CONFIG,\n} from \"../constants\";\nimport type { DeviceId } from \"../devices\";\nimport { DEVICES } from \"../devices\";\n\n/**\n * Toolbar state and actions from Storybook globals; registers zoom shortcuts (Ctrl/Cmd + = / - / 0).\n *\n * @returns Object with state (enabled, deviceId, rotation, zoom, customWidth, customHeight,\n *   toolbarVisible, device, rotatable, isCustom), handlers (setEnabled, setDevice, cycleRotation,\n *   zoomIn, zoomOut, zoomFit, setCustomWidth, setCustomHeight, toggleToolbar), and\n *   UI values (zoomNum, canZoomIn, canZoomOut).\n */\n/**\n * Wraps Storybook's updateGlobals so that if the consumer did not declare our globals\n * (initialGlobals / getRtaPreviewPreviewConfig), we no-op instead of throwing.\n */\nfunction safeUpdateGlobals(\n  updateGlobals: (patch: Record<string, unknown>) => void,\n  patch: Record<string, unknown>,\n): void {\n  try {\n    updateGlobals(patch);\n  } catch {\n    // Globals not declared in preview; add ...getRtaPreviewPreviewConfig() to fix.\n  }\n}\n\nconst GLOBALS_HINT =\n  \"RTA Preview: Add ...getRtaPreviewPreviewConfig() to your .storybook/preview.ts so addon globals are declared. See rta-preview-addon README.\";\n\nexport function useRtaPreview() {\n  const [globals, updateGlobals] = useGlobals();\n  const api = useStorybookApi();\n  const hintLoggedRef = useRef(false);\n  const attemptedEnableRef = useRef(false);\n\n  const safeUpdate = useCallback(\n    (patch: Record<string, unknown>) => safeUpdateGlobals(updateGlobals, patch),\n    [updateGlobals],\n  );\n\n  const enabled = (globals[RTA_PREVIEW_ENABLED] as boolean | undefined) ?? false;\n  const deviceId = (globals[RTA_PREVIEW_DEVICE] as string) ?? DEFAULT_DEVICE_ID;\n  const rotation = (globals[RTA_PREVIEW_ROTATE] as Rotation) ?? DEFAULT_ROTATION;\n  const zoom = (globals[RTA_PREVIEW_ZOOM] as \"fit\" | number) ?? DEFAULT_ZOOM;\n  const customWidth = globals[RTA_PREVIEW_CUSTOM_WIDTH] as number | undefined;\n  const customHeight = globals[RTA_PREVIEW_CUSTOM_HEIGHT] as number | undefined;\n  const toolbarVisible = (globals[RTA_PREVIEW_TOOLBAR_VISIBLE] as boolean | undefined) ?? !!enabled;\n\n  const device = DEVICES[deviceId as DeviceId];\n  const rotatable = device?.rotatable ?? true;\n  const isCustom = deviceId === \"custom\";\n\n  const setDevice = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      const key = e.target.value as DeviceId;\n      safeUpdate({\n        [RTA_PREVIEW_DEVICE]: key,\n        [RTA_PREVIEW_ZOOM]: \"fit\" as const,\n        ...(DEVICES[key] && !DEVICES[key].rotatable ? { [RTA_PREVIEW_ROTATE]: 0 as Rotation } : {}),\n      });\n    },\n    [safeUpdate],\n  );\n\n  const cycleRotation = useCallback(() => {\n    if (!rotatable) return;\n    const next: Rotation = rotation === 270 ? 0 : ((rotation + 90) as Rotation);\n    safeUpdate({ [RTA_PREVIEW_ROTATE]: next, [RTA_PREVIEW_ZOOM]: \"fit\" as const });\n  }, [rotation, rotatable, safeUpdate]);\n\n  const zoomIn = useCallback(() => {\n    const current = typeof zoom === \"number\" ? zoom : 1;\n    const next = Math.min(ZOOM_CONFIG.max, current + ZOOM_CONFIG.step);\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: next });\n  }, [zoom, safeUpdate]);\n\n  const zoomOut = useCallback(() => {\n    const current = typeof zoom === \"number\" ? zoom : 1;\n    const next = Math.max(ZOOM_CONFIG.min, current - ZOOM_CONFIG.step);\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: next });\n  }, [zoom, safeUpdate]);\n\n  const zoomFit = useCallback(() => {\n    safeUpdate({ [RTA_PREVIEW_ZOOM]: \"fit\" });\n  }, [safeUpdate]);\n\n  const setCustomWidth = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const n = Number.parseInt(e.target.value, 10);\n      safeUpdate({ [RTA_PREVIEW_CUSTOM_WIDTH]: Number.isNaN(n) ? undefined : n });\n    },\n    [safeUpdate],\n  );\n\n  const setCustomHeight = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const n = Number.parseInt(e.target.value, 10);\n      safeUpdate({ [RTA_PREVIEW_CUSTOM_HEIGHT]: Number.isNaN(n) ? undefined : n });\n    },\n    [safeUpdate],\n  );\n\n  const setEnabled = useCallback(\n    (value: boolean) => {\n      if (value) attemptedEnableRef.current = true;\n      safeUpdate({ [RTA_PREVIEW_ENABLED]: value });\n    },\n    [safeUpdate],\n  );\n\n  useEffect(() => {\n    if (enabled) {\n      attemptedEnableRef.current = false;\n      return;\n    }\n    if (!attemptedEnableRef.current) return;\n    const id = setTimeout(() => {\n      if (!hintLoggedRef.current) {\n        console.info(GLOBALS_HINT);\n        hintLoggedRef.current = true;\n      }\n      attemptedEnableRef.current = false;\n    }, 200);\n    return () => clearTimeout(id);\n  }, [enabled]);\n\n  const toggleToolbar = useCallback(() => {\n    safeUpdate({ [RTA_PREVIEW_TOOLBAR_VISIBLE]: !toolbarVisible });\n  }, [toolbarVisible, safeUpdate]);\n\n  useEffect(() => {\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Zoom in\",\n      defaultShortcut: [\"ctrl\", \"=\"],\n      actionName: \"rta-zoom-in\",\n      showInMenu: false,\n      action: zoomIn,\n    });\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Zoom out\",\n      defaultShortcut: [\"ctrl\", \"-\"],\n      actionName: \"rta-zoom-out\",\n      showInMenu: false,\n      action: zoomOut,\n    });\n    api.setAddonShortcut(ADDON_ID, {\n      label: \"Fit viewport\",\n      defaultShortcut: [\"ctrl\", \"0\"],\n      actionName: \"rta-zoom-fit\",\n      showInMenu: false,\n      action: zoomFit,\n    });\n  }, [api, zoomIn, zoomOut, zoomFit]);\n\n  const zoomNum = typeof zoom === \"number\" ? zoom : 1;\n  const canZoomIn = zoomNum < ZOOM_CONFIG.max;\n  const canZoomOut = zoomNum > ZOOM_CONFIG.min;\n\n  return {\n    enabled,\n    deviceId,\n    rotation,\n    zoom,\n    customWidth,\n    customHeight,\n    toolbarVisible,\n    toggleToolbar,\n    setEnabled,\n    device,\n    rotatable,\n    isCustom,\n    setDevice,\n    cycleRotation,\n    zoomIn,\n    zoomOut,\n    zoomFit,\n    setCustomWidth,\n    setCustomHeight,\n    zoomNum,\n    canZoomIn,\n    canZoomOut,\n  };\n}\n","import { styled } from \"storybook/theming\";\n\n/** Toolbar button default text color (matches Storybook toolbar). */\nconst TOOLBAR_BUTTON_COLOR = \"rgb(115, 130, 140)\";\n/** Toolbar button hover color (Storybook blue). */\nconst TOOLBAR_BUTTON_HOVER_COLOR = \"rgb(2, 156, 253)\";\nconst TOOLBAR_BUTTON_HOVER_BG = \"rgba(2, 156, 253, 0.14)\";\n\n/** CSS style element to make scrollbars thin and match Storybook style. */\nexport const THIN_SCROLLBAR_STYLE = (\n  <style\n    // biome-ignore lint/security/noDangerouslySetInnerHtml: static addon CSS only, no user input\n    dangerouslySetInnerHTML={{\n      __html: `\n.rta-preview-viewport {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(128, 128, 128, 0.6) transparent;\n}\n.rta-preview-viewport::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n.rta-preview-viewport::-webkit-scrollbar-track {\n  background: transparent;\n}\n.rta-preview-viewport::-webkit-scrollbar-thumb {\n  background: rgba(128, 128, 128, 0.6);\n  border-radius: 4px;\n}\n.rta-preview-viewport::-webkit-scrollbar-thumb:hover {\n  background: rgba(128, 128, 128, 0.8);\n}\n`,\n    }}\n  />\n);\n\n/** CSS for Fit button flash when autofit is called (border highlight that fades out). */\nexport const FIT_BUTTON_FLASH_STYLE = (\n  <style\n    // biome-ignore lint/security/noDangerouslySetInnerHtml: static addon CSS only, no user input\n    dangerouslySetInnerHTML={{\n      __html: `\n@keyframes rta-fit-flash {\n  0% { box-shadow: 0 0 0 2px rgba(2, 156, 253, 0.7); }\n  100% { box-shadow: none; }\n}\n.rta-preview-toolbar button[data-flashing=\"true\"] {\n  animation: rta-fit-flash 500ms ease-out forwards;\n}\n`,\n    }}\n  />\n);\n\n/** Resolve toolbar/bar colors so the addon matches Storybook toolbar in light and dark. */\nfunction getToolbarColors(theme: {\n  base?: string;\n  barBg?: string;\n  barTextColor?: string;\n  barHoverColor?: string;\n  barSelectedColor?: string;\n  appBorderColor?: string;\n}) {\n  return {\n    border: theme.appBorderColor ?? (theme.base === \"dark\" ? \"#333\" : \"#ccc\"),\n    /** Default toolbar button text (muted); match Storybook's toolbar icon color. */\n    buttonColor: theme.barTextColor ?? TOOLBAR_BUTTON_COLOR,\n    /** Hover: use theme secondary/highlight or Storybook blue. */\n    buttonHoverColor: theme.barHoverColor ?? theme.barSelectedColor ?? TOOLBAR_BUTTON_HOVER_COLOR,\n    buttonHoverBg: TOOLBAR_BUTTON_HOVER_BG,\n    selectedBg: theme.barSelectedColor ?? (theme.base === \"dark\" ? \"#3d3d3d\" : \"#e0e0e0\"),\n    selectedText: theme.base === \"dark\" ? \"#fff\" : \"#1a1a1a\",\n  };\n}\n\n/** Resolve input/control colors from theme. */\nfunction getInputColors(theme: {\n  base?: string;\n  inputBg?: string;\n  inputTextColor?: string;\n  appBorderColor?: string;\n  textMutedColor?: string;\n}) {\n  const dark = theme.base === \"dark\";\n  return {\n    bg: theme.inputBg ?? (dark ? \"#2d2d2d\" : \"#fff\"),\n    text: theme.inputTextColor ?? (dark ? \"#eee\" : \"#333\"),\n    border: theme.appBorderColor ?? (dark ? \"#444\" : \"#ccc\"),\n    muted: theme.textMutedColor ?? (dark ? \"#999\" : \"#666\"),\n  };\n}\n\nconst fontSize = (theme: { typography?: { size?: { s2?: number } } }) =>\n  theme.typography?.size?.s2 ?? 12;\nconst radius = (theme: { appBorderRadius?: number }) => theme.appBorderRadius ?? 4;\n\n/** Outer container for the toolbar; inline flex with theme gap. */\nexport const Toolbar = styled.div(({ theme }) => {\n  const { border } = getToolbarColors(theme);\n  return {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: theme.layoutMargin ?? 8,\n    padding: \"0 4px\",\n    borderLeft: `1px solid ${border}`,\n    marginLeft: 4,\n  };\n});\n\n/** Label for form controls (device, zoom, width, height). */\nexport const Label = styled.label(({ theme }) => {\n  const { muted } = getInputColors(theme);\n  return {\n    fontSize: fontSize(theme),\n    color: muted,\n    marginRight: 4,\n  };\n});\n\n/** Readonly zoom percentage display in toolbar (muted, same font size). */\nexport const ZoomPercent = styled.span(({ theme }) => {\n  const { muted } = getInputColors(theme);\n  return {\n    fontSize: fontSize(theme),\n    color: muted,\n    minWidth: 36,\n    textAlign: \"right\" as const,\n    userSelect: \"none\" as const,\n  };\n});\n\n/** Native select styled to match Storybook toolbar and inputs. */\nexport const Select = styled.select(({ theme }) => {\n  const { bg, text, border } = getInputColors(theme);\n  return {\n    padding: \"4px 8px\",\n    fontSize: fontSize(theme),\n    border: `1px solid ${border}`,\n    borderRadius: radius(theme),\n    background: bg,\n    color: text,\n    minWidth: 120,\n  };\n});\n\n/** Action button (zoom, rotate, toggles); matches Storybook toolbar button style. */\nexport const Button = styled.button(({ theme }) => {\n  const { buttonColor, buttonHoverColor, buttonHoverBg, selectedBg, selectedText } =\n    getToolbarColors(theme);\n  return {\n    border: 0,\n    cursor: \"pointer\",\n    gap: 6,\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    padding: \"0 7px\",\n    height: 28,\n    position: \"relative\",\n    textAlign: \"center\",\n    textDecoration: \"none\",\n    transitionProperty: \"background, box-shadow\",\n    transitionDuration: \"150ms\",\n    transitionTimingFunction: \"ease-out\",\n    verticalAlign: \"top\",\n    whiteSpace: \"nowrap\",\n    userSelect: \"none\",\n    opacity: 1,\n    margin: 0,\n    fontSize: fontSize(theme),\n    fontWeight: 700,\n    lineHeight: 1,\n    background: \"transparent\",\n    color: buttonColor,\n    boxShadow: \"none\",\n    borderRadius: radius(theme),\n    flexShrink: 0,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    \"& svg\": {\n      color: buttonColor,\n    },\n    \"&:hover:not(:disabled)\": {\n      color: buttonHoverColor,\n      background: buttonHoverBg,\n    },\n    \"&:hover:not(:disabled) svg\": {\n      color: buttonHoverColor,\n    },\n    \"&[aria-pressed='true']\": {\n      background: selectedBg,\n      color: selectedText,\n    },\n    \"&:disabled\": {\n      opacity: 0.5,\n      cursor: \"not-allowed\",\n    },\n  };\n});\n\n/** Number input for custom width and height. */\nexport const Input = styled.input(({ theme }) => {\n  const { bg, text, border } = getInputColors(theme);\n  return {\n    width: 56,\n    padding: \"4px 6px\",\n    fontSize: fontSize(theme),\n    border: `1px solid ${border}`,\n    borderRadius: radius(theme),\n    background: bg,\n    color: text,\n  };\n});\n\n/** Horizontal flex container for a single control group (e.g. device dropdown, zoom buttons). */\nexport const Row = styled.div({\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  gap: 6,\n});\n","import type React from \"react\";\nimport { memo } from \"react\";\nimport { Input, Label, Row } from \"./Styles\";\n\nexport interface CustomDimensionsProps {\n  customWidth: number | undefined;\n  customHeight: number | undefined;\n  onCustomWidthChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onCustomHeightChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\n/** Custom dimensions input for the RTA Preview addon.\n *\n * @param customWidth - The current custom width.\n * @param customHeight - The current custom height.\n * @param onCustomWidthChange - The function to call when the custom width is changed.\n * @param onCustomHeightChange - The function to call when the custom height is changed.\n * @returns The custom dimensions input.\n */\nexport const CustomDimensions = memo(function CustomDimensions({\n  customWidth,\n  customHeight,\n  onCustomWidthChange,\n  onCustomHeightChange,\n}: CustomDimensionsProps) {\n  return (\n    <Row>\n      <Label htmlFor=\"rta-preview-width\">W</Label>\n      <Input\n        id=\"rta-preview-width\"\n        type=\"number\"\n        min={100}\n        placeholder=\"—\"\n        value={customWidth ?? \"\"}\n        onChange={onCustomWidthChange}\n        aria-label=\"Custom width\"\n      />\n      <Label htmlFor=\"rta-preview-height\">H</Label>\n      <Input\n        id=\"rta-preview-height\"\n        type=\"number\"\n        min={100}\n        placeholder=\"—\"\n        value={customHeight ?? \"\"}\n        onChange={onCustomHeightChange}\n        aria-label=\"Custom height\"\n      />\n    </Row>\n  );\n});\n","import type React from \"react\";\nimport { memo } from \"react\";\nimport type { DeviceId } from \"../devices\";\nimport { DEVICE_CATEGORIES, DEVICES } from \"../devices\";\nimport { Select } from \"./Styles\";\n\nexport interface DeviceProps {\n  deviceId: string;\n  onDeviceChange: (e: React.ChangeEvent<HTMLSelectElement>) => void;\n}\n\n/** Device selector for the RTA Preview addon.\n *\n * @param deviceId - The current device id.\n * @param onDeviceChange - The function to call when the device is changed.\n * @returns The device selector.\n */\nexport const Device = memo(function Device({ deviceId, onDeviceChange }: DeviceProps) {\n  return (\n    <Select\n      id=\"rta-preview-device\"\n      value={deviceId}\n      onChange={onDeviceChange}\n      aria-label=\"Select device viewport\"\n    >\n      {DEVICE_CATEGORIES.map(({ label: groupLabel, pattern }) => {\n        const keys = (Object.keys(DEVICES) as DeviceId[]).filter((k) => pattern.test(k));\n        if (!keys.length) return null;\n        return (\n          <optgroup key={groupLabel} label={groupLabel}>\n            {keys.map((id) => (\n              <option key={id} value={id}>\n                {DEVICES[id].label}\n              </option>\n            ))}\n          </optgroup>\n        );\n      })}\n    </Select>\n  );\n});\n","import { memo } from \"react\";\nimport { addons } from \"storybook/manager-api\";\nimport { RTA_PREVIEW_DOWNLOAD_VIEW } from \"../constants\";\nimport { sanitizeFilenameForDownload } from \"../lib\";\nimport { Button } from \"./Styles\";\n\n/** Download icon for saving the current view.\n *\n * @param size - The size of the icon.\n * @returns The download icon.\n */\nfunction DownloadIcon({ size = 16 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      aria-hidden\n    >\n      <title>Download</title>\n      <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" />\n      <polyline points=\"7 10 12 15 17 10\" />\n      <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\n    </svg>\n  );\n}\n\nexport interface DownloadProps {\n  deviceLabel: string | undefined;\n  deviceId: string;\n}\n\n/** Download button for the RTA Preview addon.\n *\n * @param deviceLabel - The current device label.\n * @param deviceId - The current device id.\n * @returns The download button.\n */\nexport const Download = memo(function Download({ deviceLabel, deviceId }: DownloadProps) {\n  const handleClick = () => {\n    const label = deviceLabel ?? deviceId;\n    const base = sanitizeFilenameForDownload(label);\n    const filename = `${base}.png`;\n    addons.getChannel().emit(RTA_PREVIEW_DOWNLOAD_VIEW, { filename });\n  };\n\n  return (\n    <Button\n      type=\"button\"\n      onClick={handleClick}\n      aria-label=\"Download current view\"\n      title=\"Download current view\"\n    >\n      <DownloadIcon />\n    </Button>\n  );\n});\n","import { memo } from \"react\";\nimport { Button } from \"./Styles\";\n\n/** Phone/mobile icon for the RTA Preview toggle.\n *\n * @returns The phone/mobile icon.\n */\nfunction PhoneIcon({ size = 16 }: { size?: number }) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"54 1 147 253\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{ transform: \"scale(1.3)\" }}\n      aria-hidden\n    >\n      <title>Phone</title>\n      <g\n        style={{\n          stroke: \"none\",\n          strokeWidth: 0,\n          fill: \"currentColor\",\n          fillRule: \"nonzero\",\n          opacity: 1,\n        }}\n        transform=\"matrix(2.81 0 0 2.81 1.407 1.407)\"\n      >\n        <path d=\"M64.967 0H25.033a6.106 6.106 0 0 0-6.099 6.098v77.803A6.107 6.107 0 0 0 25.033 90h39.934a6.106 6.106 0 0 0 6.099-6.099V6.098A6.106 6.106 0 0 0 64.967 0zM20.935 12.417h48.131v63.67H20.935v-63.67zM25.033 2h39.934a4.103 4.103 0 0 1 4.099 4.098v4.319H20.935V6.098A4.102 4.102 0 0 1 25.033 2zm39.934 86H25.033a4.104 4.104 0 0 1-4.099-4.099v-5.814h48.131v5.814A4.103 4.103 0 0 1 64.967 88z\" />\n        <circle cx=\"45\" cy=\"83.04\" r=\"2\" />\n        <path d=\"M47.169 7.254H36.114a1 1 0 0 1 0-2h11.055a1 1 0 1 1 0 2z\" />\n        <circle cx=\"51.89\" cy=\"6.25\" r=\"1.5\" />\n      </g>\n    </svg>\n  );\n}\n\nexport interface EnableProps {\n  enabled: boolean;\n  onSetEnabled: (value: boolean) => void;\n}\n\n/** Enable button for the RTA Preview addon. Uses custom Button (aria-pressed for state); ToggleButton from storybook/internal/components causes manager-bundle crash (React 19 recentlyCreatedOwnerStacks). */\nexport const Enable = memo(function Enable({ enabled, onSetEnabled }: EnableProps) {\n  return (\n    <Button\n      type=\"button\"\n      onClick={() => onSetEnabled(!enabled)}\n      aria-label={enabled ? \"Disable RTA Preview\" : \"Enable RTA Preview\"}\n      title={enabled ? \"Turn off device preview\" : \"Enable device preview\"}\n    >\n      <PhoneIcon />\n    </Button>\n  );\n});\n","import { memo } from \"react\";\nimport { Button, Row } from \"./Styles\";\n\nexport interface RotationProps {\n  rotation: number;\n  rotatable: boolean;\n  onCycleRotation: () => void;\n}\n\n/** Rotation button for rotating the viewport device.\n *\n * @param rotation - The current rotation in degrees.\n * @param rotatable - Whether the viewport is rotatable.\n * @param onCycleRotation - The function to call when the rotation is cycled.\n * @returns The rotation button.\n */\nexport const Rotation = memo(function Rotation({\n  rotation,\n  rotatable,\n  onCycleRotation,\n}: RotationProps) {\n  if (!rotatable) return null;\n\n  return (\n    <Row>\n      <Button\n        type=\"button\"\n        onClick={onCycleRotation}\n        aria-label={`Rotate (${rotation}°)`}\n        title={rotation === 0 ? \"Portrait → Landscape\" : \"Landscape → Portrait\"}\n      >\n        {rotation === 0 ? \"↺ Portrait\" : \"↻ Landscape\"}\n      </Button>\n    </Row>\n  );\n});\n","import { memo } from \"react\";\nimport { Button, Row, ZoomPercent } from \"./Styles\";\n\nexport interface ZoomProps {\n  zoomNum: number;\n  canZoomIn: boolean;\n  canZoomOut: boolean;\n  fitButtonFlash: boolean;\n  onZoomIn: () => void;\n  onZoomOut: () => void;\n  onZoomFit: () => void;\n}\n\n/** Zoom button for the RTA Preview addon.\n *\n * @param zoomNum - The current zoom level.\n * @param canZoomIn - Whether the zoom can be increased.\n * @param canZoomOut - Whether the zoom can be decreased.\n * @param fitButtonFlash - Whether the fit button is flashing.\n * @param onZoomIn - The function to call when the zoom is increased.\n * @param onZoomOut - The function to call when the zoom is decreased.\n * @param onZoomFit - The function to call when the zoom is fit.\n * @returns The zoom button.\n */\nexport const Zoom = memo(function Zoom({\n  zoomNum,\n  canZoomIn,\n  canZoomOut,\n  fitButtonFlash,\n  onZoomIn,\n  onZoomOut,\n  onZoomFit,\n}: ZoomProps) {\n  return (\n    <Row>\n      <Button\n        type=\"button\"\n        onClick={onZoomOut}\n        disabled={!canZoomOut}\n        aria-label=\"Zoom out\"\n        title=\"Zoom out\"\n      >\n        −\n      </Button>\n      <Button\n        type=\"button\"\n        onClick={onZoomFit}\n        aria-label=\"Fit\"\n        title=\"Fit to view\"\n        data-flashing={fitButtonFlash ? \"true\" : undefined}\n      >\n        Fit\n      </Button>\n      <Button\n        type=\"button\"\n        onClick={onZoomIn}\n        disabled={!canZoomIn}\n        aria-label=\"Zoom in\"\n        title=\"Zoom in\"\n      >\n        +\n      </Button>\n      <ZoomPercent aria-label=\"Zoom percentage\" role=\"status\">\n        {`${Math.round(zoomNum * 100)}%`}\n      </ZoomPercent>\n    </Row>\n  );\n});\n","import { memo, useCallback, useEffect, useState } from \"react\";\nimport { TOOL_ID } from \"../constants\";\nimport { useRtaPreview } from \"../hooks\";\nimport { CustomDimensions } from \"./CustomDimensions\";\nimport { Device } from \"./Device\";\nimport { Download } from \"./Download\";\nimport { Enable } from \"./Enable\";\nimport { Rotation } from \"./Rotation\";\nimport { FIT_BUTTON_FLASH_STYLE, Row, Toolbar as ToolbarRoot } from \"./Styles\";\nimport { Zoom } from \"./Zoom\";\n\nconst FIT_FLASH_DURATION_MS = 500;\n\n/** Toolbar for the RTA Preview addon.\n *\n * @returns The toolbar.\n */\nexport const Tool = memo(function Toolbar() {\n  const api = useRtaPreview();\n  const [fitButtonFlash, setFitButtonFlash] = useState(false);\n\n  const triggerFitFlash = useCallback(() => setFitButtonFlash(true), []);\n\n  useEffect(() => {\n    if (!fitButtonFlash) return;\n    const id = setTimeout(() => setFitButtonFlash(false), FIT_FLASH_DURATION_MS);\n    return () => clearTimeout(id);\n  }, [fitButtonFlash]);\n\n  useEffect(() => {\n    triggerFitFlash();\n  }, [triggerFitFlash]);\n\n  const handleDeviceChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      api.setDevice(e);\n      api.zoomFit();\n    },\n    [api],\n  );\n\n  const handleZoomFit = useCallback(() => {\n    api.zoomFit();\n    triggerFitFlash();\n  }, [api, triggerFitFlash]);\n\n  if (!api.enabled) {\n    return (\n      <ToolbarRoot key={TOOL_ID} className=\"rta-preview-toolbar\">\n        <Enable enabled={false} onSetEnabled={api.setEnabled} />\n      </ToolbarRoot>\n    );\n  }\n\n  return (\n    <ToolbarRoot key={TOOL_ID} className=\"rta-preview-toolbar\">\n      {FIT_BUTTON_FLASH_STYLE}\n      <Row>\n        <Enable enabled onSetEnabled={api.setEnabled} />\n        <Device deviceId={api.deviceId} onDeviceChange={handleDeviceChange} />\n      </Row>\n      <Rotation\n        rotation={api.rotation}\n        rotatable={api.rotatable}\n        onCycleRotation={api.cycleRotation}\n      />\n      <Zoom\n        zoomNum={api.zoomNum}\n        canZoomIn={api.canZoomIn}\n        canZoomOut={api.canZoomOut}\n        fitButtonFlash={fitButtonFlash}\n        onZoomIn={api.zoomIn}\n        onZoomOut={api.zoomOut}\n        onZoomFit={handleZoomFit}\n      />\n      {api.isCustom && (\n        <CustomDimensions\n          customWidth={api.customWidth}\n          customHeight={api.customHeight}\n          onCustomWidthChange={api.setCustomWidth}\n          onCustomHeightChange={api.setCustomHeight}\n        />\n      )}\n      <Download deviceLabel={api.device?.label} deviceId={api.deviceId} />\n    </ToolbarRoot>\n  );\n});\n","import { addons, types } from \"storybook/manager-api\";\nimport { ADDON_ID } from \"../constants\";\nimport { Tool } from \"./Tool\";\n\n/** Register the RTA Preview addon in Storybook. */\naddons.register(ADDON_ID, () => {\n  addons.add(`${ADDON_ID}/toolbar`, {\n    type: types.TOOL,\n    title: \"Ṛta (ऋत) - Storybook Preview\",\n    match: ({ tabId, viewMode }) => !tabId && viewMode === \"story\",\n    render: () => <Tool />,\n  });\n});\n\nexport { Tool };\n"]}